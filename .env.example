# ROCmForge Environment Configuration
# ===================================
#
# This file documents all supported environment variables for ROCmForge.
# Copy this file to .env and customize values for your environment.
#
# Usage:
#   1. Copy this file: cp .env.example .env
#   2. Uncomment and edit values in .env as needed
#   3. Source the file: source .env  (or load in your shell profile)
#
# Note: Variables marked (optional) have sensible defaults.

# =============================================================================
# Model Paths
# =============================================================================

# ROCMFORGE_GGUF
#   Path to the GGUF model file to use for inference.
#   Used by: HTTP server, CLI
#   Default: None (required when starting server or running inference)
#   Example: /path/to/model.gguf
# ROCMFORGE_GGUF=

# ROCMFORGE_TOKENIZER
#   Path to tokenizer.json file (HuggingFace format) for the model.
#   Used by: HTTP server, CLI
#   Default: Auto-detected from GGUF model directory (same directory as .gguf file)
#            or uses embedded tokenizer from GGUF file
#   Example: /path/to/tokenizer.json
# ROCMFORGE_TOKENIZER=

# ROCMFORGE_MODELS
#   Directory containing GGUF model files for auto-discovery.
#   Used by: CLI (models subcommand)
#   Default: ./models
#   Example: /opt/models/gguf
# ROCMFORGE_MODELS=./models


# =============================================================================
# Logging Configuration
# =============================================================================

# RUST_LOG
#   Standard Rust tracing filter for fine-grained log control.
#   Supports module-level filtering (e.g., "info,rocmforge::engine=debug").
#   Used by: All components
#   Default: info
#   Examples:
#     RUST_LOG=info
#     RUST_LOG=debug,rocmforge::engine=trace,rocmforge::http=warn
# RUST_LOG=info

# ROCFORGE_LOG_LEVEL
#   Simple log level override (module-specific filtering not supported).
#   Overrides RUST_LOG if both are set.
#   Valid values: error, warn, info, debug, trace
#   Used by: All components
#   Default: info
# ROCFORGE_LOG_LEVEL=info

# ROCFORGE_LOG_FORMAT
#   Log output format.
#   Valid values: human (colored console output), json (machine-parseable)
#   Used by: All components
#   Default: human
# ROCFORGE_LOG_FORMAT=human

# ROCFORGE_LOG_FILE
#   Optional file path for log output. When set, logs are written to this file
#   in JSON format regardless of ROCFORGE_LOG_FORMAT. Console logging is
#   disabled when this is set.
#   Used by: All components
#   Default: None (logs to stdout/stderr only)
#   Example: /var/log/rocmforge.log
# ROCFORGE_LOG_FILE=


# =============================================================================
# GPU Configuration
# =============================================================================

# ROCFORGE_GPU_DEVICE
#   GPU device number to use for inference (0-indexed).
#   Used by: HIP backend
#   Default: 0 (first GPU)
#   Example: 1
# ROCFORGE_GPU_DEVICE=0


# =============================================================================
# GPU Kernel Tuning (Advanced)
# =============================================================================
# These variables control HIP kernel launch parameters. Only modify if you
# are familiar with GPU architecture and have benchmarked your specific
# hardware. Incorrect values may cause crashes or performance degradation.

# ROCFORGE_BLOCK_SIZE
#   Number of threads per GPU thread block.
#   Used by: HIP backend
#   Default: 256 (RDNA3 optimized)
#   Valid range: Must be a multiple of WARP_SIZE
# ROCFORGE_BLOCK_SIZE=256

# ROCFORGE_WARP_SIZE
#   Wavefront size (GPU hardware execution unit size).
#   Used by: HIP backend
#   Default: 32 (RDNA3), 64 (CDNA)
#   Valid values: 32 or 64
# ROCFORGE_WARP_SIZE=32

# ROCFORGE_USE_LDS
#   Enable Local Data Share (GPU on-chip memory) for kernel optimization.
#   Used by: HIP backend
#   Default: 1 (enabled)
#   Valid values: 0 (disabled), 1 (enabled)
# ROCFORGE_USE_LDS=1

# ROCFORGE_LDS_SIZE
#   LDS size per block in bytes.
#   Used by: HIP backend
#   Default: 65536 (64 KB)
# ROCFORGE_LDS_SIZE=65536

# ROCFORGE_TILE_K
#   K dimension tile size for matrix multiplication.
#   Used by: HIP backend
#   Default: 8
# ROCFORGE_TILE_K=8

# ROCFORGE_TILE_N
#   N dimension tile size for matrix multiplication.
#   Used by: HIP backend
#   Default: 8
# ROCFORGE_TILE_N=8


# =============================================================================
# OpenTelemetry Tracing (Experimental)
# =============================================================================

# ROCMORGE_TRACE_SAMPLE_RATE
#   Sampling rate for OpenTelemetry trace collection.
#   Only a fraction of traces are collected to reduce overhead.
#   Used by: OTEL tracing module
#   Default: 0.1 (10% of traces)
#   Valid range: 0.0 to 1.0
# ROCMORGE_TRACE_SAMPLE_RATE=0.1

# ROCFORGE_MAX_TRACES
#   Maximum number of traces to store in memory.
#   Oldest traces are discarded when limit is reached.
#   Used by: OTEL tracing module
#   Default: 1000
# ROCFORGE_MAX_TRACES=1000


# =============================================================================
# Build System (Developer Only)
# =============================================================================
# These variables are only used during compilation via cargo/build.rs.

# ROCM_PATH
#   Path to ROCm installation directory.
#   Used by: build.rs
#   Default: /opt/rocm
# ROCM_PATH=/opt/rocm

# HIPCC
#   Path to hipcc compiler executable.
#   Used by: build.rs
#   Default: $ROCM_PATH/bin/hipcc
# HIPCC=/opt/rocm/bin/hipcc

# ROCm_ARCH
#   Target AMD GPU architecture for kernel compilation.
#   Common values: gfx1100 (RDNA3), gfx1030 (RDNA2), gfx90a (CDNA2)
#   Used by: build.rs
#   Default: gfx1100
# ROCm_ARCH=gfx1100

# RUSTC_VERSION
#   Rust compiler version (for build metadata).
#   Used by: Profiling module
#   Default: Auto-detected
# RUSTC_VERSION=


# =============================================================================
# HSACO Kernel Paths (Advanced/Developer)
# =============================================================================
# These variables allow overriding pre-compiled kernel binaries (.hsaco files).
# Normally, kernels are compiled during build and paths set automatically.
# Only set these if you are using custom kernels or debugging kernel issues.
#
# Available kernels:
#   SOFTMAX_HSACO, PREFIX_SUM_HSACO, TOPP_HSACO, TOPK_HSACO, FUSED_HSACO
#   FUSED_DEQUANT_RMSNORM_HSACO, FUSED_ROPE_KVAPPEND_HSACO
#   SCALE_HSACO, MASK_HSACO, ROPE_HSACO, POSITION_EMBEDDINGS_HSACO
#   QKT_MATMUL_HSACO, WEIGHTED_MATMUL_HSACO
#   FLASH_ATTENTION_NCAUSAL_HSACO, CAUSAL_MASK_HSACO
#   FLASH_ATTENTION_CAUSAL_HSACO, FLASH_ATTENTION_HSACO
#   MQA_KV_REPLICATE_HSACO
#   Q4_0_MATMUL_HSACO, Q4_K_MATMUL_HSACO, Q6_K_MATMUL_HSACO
#   SWIGLU_HSACO, RMS_NORM_HSACO
#
# Example:
#   Q4_0_MATMUL_HSACO=/custom/path/to/q4_0_matmul.hsaco


# =============================================================================
# Testing (Developer Only)
# =============================================================================

# ROCFORGE_TEST_MODEL
#   Path to GGUF model for end-to-end testing.
#   Used by: E2E test suite, benchmarks
#   Default: None (tests skip if not set)
# ROCFORGE_TEST_MODEL=

# ROCmFORGE_MODEL_DIR
#   Alternative directory for test model discovery.
#   Used by: E2E test suite
#   Default: None
# ROCmFORGE_MODEL_DIR=
