---
phase: 13-03-dead-code-removal
plan: 03
type: execute
wave: 3
depends_on: ["01", "02"]
files_modified:
  - (multiple files across src/)
autonomous: true

must_haves:
  truths:
    - "Unused imports removed across all source files"
    - "cargo fix --lib --allow-dirty --allow-staged executed successfully"
    - "Manual cleanup completed for remaining unused imports"
    - "cargo test --all-targets passes without errors"
  artifacts:
    - path: "src/"
      action: "bulk cleanup of unused imports"
  key_links:
    - from: "cargo fix output"
      to: "cleaned imports"
      via: "automatic and manual cleanup"
      pattern: "use.*;"
---

<objective>
Remove unused imports from all source files.

Purpose: Reduce ~200 unused import warnings (the largest category) using automatic cargo fix followed by manual cleanup for any remaining cases. This is the highest-impact cleanup action.

Output: Unused import warnings reduced from ~200 to <10.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/phases/13-03-dead-code-removal/13-03-CONTEXT.md
@.planning/phases/13-03-dead-code-removal/13-03-RESEARCH.md

# Research findings - highest frequency unused imports
- std::ffi::c_void (6 occurrences)
- serial_test::serial (5 occurrences)
- HipError (5 occurrences)
- HipBackend (4 occurrences)
- DeviceTensor (4 occurrences)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run cargo fix for automatic unused import removal</name>
  <files>(across src/)</files>
  <action>
    Remove unused imports from all Rust source files using cargo fix.

    Run cargo fix for unused imports (automatic):
    ```bash
    cargo fix --lib --allow-dirty --allow-staged
    ```

    Then verify the changes and check remaining warnings:
    ```bash
    cargo check --all-targets 2>&1 | grep "unused import" | head -20
    ```

    Commit message: "refactor(13-03-03): automatic removal of unused imports via cargo fix"
  </action>
  <verify>cargo check --all-targets 2>&1 | grep "unused import" | wc -l (should decrease significantly)</verify>
  <done>Automatic unused import removal completed</done>
</task>

<task type="auto">
  <name>Task 2: Manual cleanup of remaining unused imports</name>
  <files>(across src/)</files>
  <action>
    For any remaining unused imports that cargo fix didn't handle, remove them manually.

    First, identify remaining unused imports:
    ```bash
    cargo check --all-targets 2>&1 | grep "unused import" | head -20
    ```

    For each unused import:
    1. Read the file
    2. Identify the unused import from the warning
    3. Remove the import line

    Focus on the most frequent unused imports:
    - `std::ffi::c_void` (6 occurrences)
    - `serial_test::serial` (5 occurrences)
    - `HipError` (5 occurrences)
    - `HipBackend` (4 occurrences)
    - `DeviceTensor` (4 occurrences)

    Commit message: "refactor(13-03-03): manual cleanup of remaining unused imports"
  </action>
  <verify>cargo check --all-targets 2>&1 | grep "unused import" | wc -l (should be <10)</verify>
  <done>All remaining unused imports removed manually</done>
</task>

</tasks>

<verification>
After all tasks complete, verify:
1. cargo check --all-targets shows minimal unused import warnings (<10)
2. No compilation errors
3. Test suite still passes: cargo test --lib (subset to verify no breakage)
</verification>

<success_criteria>
- Unused import warnings reduced from ~200 to <10
- No compilation errors
- Test subset passes
</success_criteria>

<output>
After completion, create `.planning/phases/13-03-dead-code-removal/13-03-03-SUMMARY.md`
</output>
